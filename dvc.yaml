stages:
  generate_scenario:
    cmd: >-
      poetry run python -m src.generate_scenario
      data/raw/scenario-prompt.md
      data/interim/scenario.md
    deps:
    - src/generate_scenario.py
    - data/raw/scenario-prompt.md
    outs:
    - data/interim/scenario.md
  convert_to_pdf:
    cmd: >-
      mkdir -p build ; rm -f build/* ;
      cp data/raw/style.css data/interim/scenario.md build/ ;
      docker run --rm -v ./build/:/home/marp/app marp-cli-ja marp
      scenario.md --pdf --theme style.css;
      cp build/scenario.pdf data/interim/scenario.pdf
    deps:
    - data/raw/style.css
    - data/interim/scenario.md
    outs:
    - data/interim/scenario.pdf
