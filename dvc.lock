schema: '2.0'
stages:
  generate_scenario:
    cmd: poetry run python -m src.generate_scenario data/raw/scenario-prompt.md data/interim/scenario.md
    deps:
    - path: data/raw/scenario-prompt.md
      hash: md5
      md5: b89530c36c7efd21ccb7444b5b523ecd
      size: 2405
    - path: src/generate_scenario.py
      hash: md5
      md5: 963619e8d91adf3e58d705d4030997b0
      size: 1472
    outs:
    - path: data/interim/scenario.md
      hash: md5
      md5: e4de7dd87b09a3126dbafe84e2032e3e
      size: 3155
  convert_to_pdf:
    cmd: mkdir -p build ; rm -f build/* ; cp data/raw/style.css data/interim/scenario.md
      build/ ; docker run --rm -v ./build/:/home/marp/app marp-cli-ja marp scenario.md
      --pdf --theme style.css; cp build/scenario.pdf data/interim/scenario.pdf
    deps:
    - path: data/interim/scenario.md
      hash: md5
      md5: e4de7dd87b09a3126dbafe84e2032e3e
      size: 3155
    - path: data/raw/style.css
      hash: md5
      md5: 99282e14aab56b8f0681a234cd71984b
      size: 95
    outs:
    - path: data/interim/scenario.pdf
      hash: md5
      md5: 92785212976fd55758aaea0afe4c9e69
      size: 329817
  generate_scenario@0:
    cmd: poetry run python -m src.generate_scenario data/raw/scenario-prompt.md data/interim/scenario-0.md
      --temperature=0.8
    deps:
    - path: data/raw/scenario-prompt.md
      hash: md5
      md5: 10e98b3d3bbc6268506e1eae1bd58fb7
      size: 3486
    - path: src/generate_scenario.py
      hash: md5
      md5: a3e9cb1134a77be927869c0aba32993c
      size: 2959
    outs:
    - path: data/interim/scenario-0.md
      hash: md5
      md5: 1394cb3c350bc409d3234f9f70be392b
      size: 5431
  generate_scenario@1:
    cmd: poetry run python -m src.generate_scenario data/raw/scenario-prompt.md data/interim/scenario-1.md
      --temperature=0.8
    deps:
    - path: data/raw/scenario-prompt.md
      hash: md5
      md5: 10e98b3d3bbc6268506e1eae1bd58fb7
      size: 3486
    - path: src/generate_scenario.py
      hash: md5
      md5: a3e9cb1134a77be927869c0aba32993c
      size: 2959
    outs:
    - path: data/interim/scenario-1.md
      hash: md5
      md5: 125931546bceba308945670b33defd71
      size: 6902
  generate_scenario@2:
    cmd: poetry run python -m src.generate_scenario data/raw/scenario-prompt.md data/interim/scenario-2.md
      --temperature=0.8
    deps:
    - path: data/raw/scenario-prompt.md
      hash: md5
      md5: 10e98b3d3bbc6268506e1eae1bd58fb7
      size: 3486
    - path: src/generate_scenario.py
      hash: md5
      md5: a3e9cb1134a77be927869c0aba32993c
      size: 2959
    outs:
    - path: data/interim/scenario-2.md
      hash: md5
      md5: eba03ee427ec2903acaeb6499fd85cfc
      size: 6120
  generate_scenario@3:
    cmd: poetry run python -m src.generate_scenario data/raw/scenario-prompt.md data/interim/scenario-3.md
      --temperature=0.8
    deps:
    - path: data/raw/scenario-prompt.md
      hash: md5
      md5: 10e98b3d3bbc6268506e1eae1bd58fb7
      size: 3486
    - path: src/generate_scenario.py
      hash: md5
      md5: a3e9cb1134a77be927869c0aba32993c
      size: 2959
    outs:
    - path: data/interim/scenario-3.md
      hash: md5
      md5: 1930a85b0dc13b34d4b5bf5ea774efbc
      size: 5119
  convert_to_pdf@0:
    cmd: mkdir -p build ; rm -f build/* ; cp data/raw/style.css build/ ; cp data/interim/scenario-0.md
      build/temp.md ; docker run --rm -v ./build/:/home/marp/app marp-cli-ja marp
      temp.md -o temp.pdf --pdf --theme style.css; cp build/temp.pdf data/interim/scenario-0.pdf
    deps:
    - path: data/interim/scenario-0.md
      hash: md5
      md5: 1394cb3c350bc409d3234f9f70be392b
      size: 5431
    - path: data/raw/style.css
      hash: md5
      md5: 99282e14aab56b8f0681a234cd71984b
      size: 95
    outs:
    - path: data/interim/scenario-0.pdf
      hash: md5
      md5: 992147fe5d03db8a4b8321bc559bc82b
      size: 386296
  convert_to_pdf@1:
    cmd: mkdir -p build ; rm -f build/* ; cp data/raw/style.css build/ ; cp data/interim/scenario-1.md
      build/temp.md ; docker run --rm -v ./build/:/home/marp/app marp-cli-ja marp
      temp.md -o temp.pdf --pdf --theme style.css; cp build/temp.pdf data/interim/scenario-1.pdf
    deps:
    - path: data/interim/scenario-1.md
      hash: md5
      md5: 125931546bceba308945670b33defd71
      size: 6902
    - path: data/raw/style.css
      hash: md5
      md5: 99282e14aab56b8f0681a234cd71984b
      size: 95
    outs:
    - path: data/interim/scenario-1.pdf
      hash: md5
      md5: 9315f1b0970ee0b907cf875f3c4379e0
      size: 325885
  convert_to_pdf@2:
    cmd: mkdir -p build ; rm -f build/* ; cp data/raw/style.css build/ ; cp data/interim/scenario-2.md
      build/temp.md ; docker run --rm -v ./build/:/home/marp/app marp-cli-ja marp
      temp.md -o temp.pdf --pdf --theme style.css; cp build/temp.pdf data/interim/scenario-2.pdf
    deps:
    - path: data/interim/scenario-2.md
      hash: md5
      md5: eba03ee427ec2903acaeb6499fd85cfc
      size: 6120
    - path: data/raw/style.css
      hash: md5
      md5: 99282e14aab56b8f0681a234cd71984b
      size: 95
    outs:
    - path: data/interim/scenario-2.pdf
      hash: md5
      md5: 7c204abba225bc5be2b8dc181e1ffcfd
      size: 389558
  convert_to_pdf@3:
    cmd: mkdir -p build ; rm -f build/* ; cp data/raw/style.css build/ ; cp data/interim/scenario-3.md
      build/temp.md ; docker run --rm -v ./build/:/home/marp/app marp-cli-ja marp
      temp.md -o temp.pdf --pdf --theme style.css; cp build/temp.pdf data/interim/scenario-3.pdf
    deps:
    - path: data/interim/scenario-3.md
      hash: md5
      md5: 1930a85b0dc13b34d4b5bf5ea774efbc
      size: 5119
    - path: data/raw/style.css
      hash: md5
      md5: 99282e14aab56b8f0681a234cd71984b
      size: 95
    outs:
    - path: data/interim/scenario-3.pdf
      hash: md5
      md5: face8e2ea75958286652a47428a8dbc6
      size: 330200
